.desktop-layout {
  .event-view {
    @apply h-full w-full;
    max-width: 848px;
    margin: auto;
    display: grid;
    grid-template-columns: [start community-content-start] auto [community-content-end end];
    grid-template-rows: [start channel-browser-start community-content-start] auto [channel-browser-end area-list-start] 1fr [area-list-end community-content-end end];

    >.cg-scrollable {
      @apply px-6;
      grid-column: community-content-start / community-content-end;
      grid-row: community-content-start / community-content-end;

      >.cg-scrollable-content {
        @apply py-4;
      }
    }

    .floating-left-bar {
      grid-row: channel-browser-start / area-list-end;
    }
  }
}

.mobile-layout {
  .event-view {
    >* {
      @apply p-0;
    }

    /* small fix to use whole scrollable area */
    >.cg-scrollable>.cg-scrollable-content {
      @apply p-4;
    }

    >.cg-scrollable,
    >.content-message-list,
    >.article-management {
      grid-column: community-content-start / community-content-end;
      grid-row: community-content-start / community-content-end;
    }
  }
}

.event-view-image {
  @apply cg-border-l;
  box-sizing: content-box;
  width: 100%;
  aspect-ratio: 10 / 4;
  object-fit: cover;

  &.no-image {
    @apply flex items-center justify-center;
    width: 800px;
    aspect-ratio: 10 / 2;
    background: var(--surface-background-2nd, #222432);
  }
}

.event-options-btn {
  @apply relative;

  .btnIconLeft {
    @apply absolute left-4;
  }
}

.event-view {
  &.sidebarMode {
    position: unset;

    .event-view-image {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
    }
  }

  .event-view-content {
    @apply flex flex-col gap-4;
    max-width: 800px;
  }

  .event-view-upper {
    @apply flex flex-col gap-4;
  }

  .event-view-chat-history-section {
    display: grid;
    grid-template-rows: auto 1fr;
    gap: 0.5rem;
    /* Fixed viewport-based height: at least 500px, or 60% of viewport */
    height: max(500px, calc(var(--visualHeight) * 0.6));
  }

  .event-view-chat-history, .event-view-participants {
    min-height: 0;

    >.generic-message-list {
      @apply h-full;

      /* Override the default GenericMessageList scrollable behavior */
      >.cg-scrollable {
        height: 100%;

        >.cg-scrollable-content {
          height: 100%;
        }
      }
    }
  }
}